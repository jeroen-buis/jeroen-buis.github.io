<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Jeroen's test site</title>
  <meta name="description" content="Testing Glia scripts">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#fafafa">
  <style>
    * {
      box-sizing: border-box;
    }

    html body {
      margin: 0;
      background-color: #ffffff;
      height: 100%
    }

    /* Responsive layout - makes a two column-layout instead of four columns */
    @media screen and (max-width: 800px) {
      .column {
        flex: 50%;
        max-width: 50%;
      }
    }

    /* Responsive layout - makes the two columns stack on top of each other instead of next to each other */
    @media screen and (max-width: 600px) {
      .column {
        flex: 100%;
        max-width: 100%;
      }
    }

    .spacer {
      aspect-ratio: 900/600;
      width: 100%;
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
    }

    .layer1 {
      position: absolute;
      bottom: 0;
      background-image: url('./newwaves.svg');
    }
  </style>
</head>

<body>
  <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

  <h1>Welcome to Jeroen's test site!</h1>
  <a href="/">Navigate</a>

  <!-- Toggle Switch -->
  <label for="toggleSwitch">Toggle Site ID:</label>
  <input type="checkbox" id="toggleSwitch" name="toggleSwitch">
  <span id="toggleLabel">Demo-Jeroen</span>

  <div class="spacer layer1"></div>

  <!-- Default Glia integration script with Demo-Jeroen site_id -->
  <script id="gliaScript" async src="https://api.glia.com/salemove_integration.js?site_id=4db6b3c1-cb7f-408d-9d8f-ef5d03c0f44b&cache_bust="></script>

  <script>
    // Site IDs for Demo-Jeroen and Demo-Ivo
    const siteIds = {
      'Demo-Jeroen': '4db6b3c1-cb7f-408d-9d8f-ef5d03c0f44b', // Example site ID for Demo-Jeroen
      'Demo-Ivo': '2b5d16ac-a754-46bb-8621-da3ff6e15ecc' // Replace with the actual site ID for Demo-Ivo
    };

    // Function to reload the Glia script with the selected site ID and prevent caching
    function reloadGliaScript(siteId) {
      // Remove the existing script
      const existingScript = document.getElementById('gliaScript');
      if (existingScript) {
        existingScript.remove();
      }

      // Create a new script element with cache-busting
      const newScript = document.createElement('script');
      newScript.id = 'gliaScript';
      newScript.async = true;
      
      // Append a cache-busting query parameter with the current timestamp
      const cacheBust = new Date().getTime();
      newScript.src = `https://api.glia.com/salemove_integration.js?site_id=${siteId}&cache_bust=${cacheBust}`;

      // Append the new script to the body
      document.body.appendChild(newScript);
    }

    // Toggle switch event listener
    document.getElementById('toggleSwitch').addEventListener('change', function () {
      const toggleLabel = document.getElementById('toggleLabel');
      if (this.checked) {
        // Switch to Demo-Ivo
        toggleLabel.textContent = 'Demo-Ivo';
        reloadGliaScript(siteIds['Demo-Ivo']);
      } else {
        // Switch to Demo-Jeroen
        toggleLabel.textContent = 'Demo-Jeroen';
        reloadGliaScript(siteIds['Demo-Jeroen']);
      }
    });
  </script>
</body>



